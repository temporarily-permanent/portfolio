import"../chunks/CWj6FrbW.js";import{K as M,ae as P,aU as U,aV as j,ak as z,$ as L,aW as J,aX as W,aY as G,aZ as V,J as X,h as T,aJ as O,aK as R,aL as Y,al as Z,q as D,p as H,f as B,a as Q,i as S,b as $,c as aa,d as ra,n as ea,r as ta,s as ia,aR as sa,j as na}from"../chunks/D0dH6Uol.js";import{i as fa}from"../chunks/skExkvNW.js";import{r as oa}from"../chunks/CKclv5DI.js";import{g as ca,w as va,l as da}from"../chunks/JbC7p5Nf.js";const ua=()=>performance.now(),h={tick:r=>requestAnimationFrame(r),now:()=>ua(),tasks:new Set};function K(){const r=h.now();h.tasks.forEach(a=>{a.c(r)||(h.tasks.delete(a),a.f())}),h.tasks.size!==0&&h.tick(K)}function la(r){let a;return h.tasks.size===0&&h.tick(K),{promise:new Promise(e=>{h.tasks.add(a={c:r,f:e})}),abort(){h.tasks.delete(a)}}}function N(r,a){va(()=>{r.dispatchEvent(new CustomEvent(a))})}function _a(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function q(r){const a={},e=r.split(";");for(const t of e){const[f,d]=t.split(":");if(!f||d===void 0)break;const c=_a(f.trim());a[c]=d.trim()}return a}const ha=r=>r;function x(r,a,e,t){var f=(r&W)!==0,d=(r&G)!==0,c=f&&d,k=(r&J)!==0,w=c?"both":f?"in":"out",o,s=a.inert,m=a.style.overflow,n,i;function b(){var v=Y,y=M;O(null),R(null);try{return o??(o=e()(a,(t==null?void 0:t())??{},{direction:w}))}finally{O(v),R(y)}}var u={is_global:k,in(){var v;if(a.inert=s,!f){i==null||i.abort(),(v=i==null?void 0:i.reset)==null||v.call(i);return}d||n==null||n.abort(),N(a,"introstart"),n=A(a,b(),i,1,()=>{N(a,"introend"),n==null||n.abort(),n=o=void 0,a.style.overflow=m})},out(v){if(!d){v==null||v(),o=void 0;return}a.inert=!0,N(a,"outrostart"),i=A(a,b(),n,0,()=>{N(a,"outroend"),v==null||v()})},stop:()=>{n==null||n.abort(),i==null||i.abort()}},_=M;if((_.transitions??(_.transitions=[])).push(u),f&&ca){var p=k;if(!p){for(var l=_.parent;l&&(l.f&P)!==0;)for(;(l=l.parent)&&(l.f&U)===0;);p=!l||(l.f&j)!==0}p&&z(()=>{L(()=>u.in())})}}function A(r,a,e,t,f){var d=t===1;if(V(a)){var c,k=!1;return X(()=>{if(!k){var _=a({direction:d?"in":"out"});c=A(r,_,e,t,f)}}),{abort:()=>{k=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(e==null||e.deactivate(),!(a!=null&&a.duration))return f(),{abort:T,deactivate:T,reset:T,t:()=>t};const{delay:w=0,css:o,tick:s,easing:m=ha}=a;var n=[];if(d&&e===void 0&&(s&&s(0,1),o)){var i=q(o(0,1));n.push(i,i)}var b=()=>1-t,u=r.animate(n,{duration:w,fill:"forwards"});return u.onfinish=()=>{u.cancel();var _=(e==null?void 0:e.t())??1-t;e==null||e.abort();var p=t-_,l=a.duration*Math.abs(p),v=[];if(l>0){var y=!1;if(o)for(var C=Math.ceil(l/16.666666666666668),g=0;g<=C;g+=1){var F=_+p*m(g/C),I=q(o(F,1-F));v.push(I),y||(y=I.overflow==="hidden")}y&&(r.style.overflow="hidden"),b=()=>{var E=u.currentTime;return _+p*m(E/l)},s&&la(()=>{if(u.playState!=="running")return!1;var E=b();return s(E,1-E),!0})}u=r.animate(v,{duration:l,fill:"forwards"}),u.onfinish=()=>{b=()=>t,s==null||s(t,1-t),f()}},{abort:()=>{u&&(u.cancel(),u.effect=null,u.onfinish=T)},deactivate:()=>{f=T},reset:()=>{t===0&&(s==null||s(1,0))},t:()=>b()}}function ka(r,a,e=a){da(r,"change",t=>{var f=t?r.defaultChecked:r.checked;e(f)}),(D&&r.defaultChecked!==r.checked||L(a)==null)&&e(r.checked),Z(()=>{var t=a();r.checked=!!t})}function ma(r){return Math.sin(-13*(r+1)*Math.PI/2)*Math.pow(2,-10*r)+1}var ba=B('<div class="centered svelte-8aqkg4"><span class="svelte-8aqkg4">transitions!</span></div>'),pa=B('<label><input type="checkbox"/> visible</label> <!>',1);function ga(r,a){H(a,!0);let e=sa(!0);function t(o,{duration:s}){return{duration:s,css:(m,n)=>{const i=ma(m);return`
					transform: scale(${i}) rotate(${i*3*1080}deg);
					color: hsl(
						${Math.trunc(m*360)},
						${Math.min(100,1e3*n)}%,
						${Math.min(50,500*n)}%
					);`}}}var f=pa(),d=Q(f),c=ra(d);oa(c),ea(),ta(d);var k=ia(d,2);{var w=o=>{var s=ba();x(1,s,()=>t,()=>({duration:8e3})),x(2,s,()=>t,()=>({duration:8e3})),$(o,s)};fa(k,o=>{S(e)&&o(w)})}ka(c,()=>S(e),o=>na(e,o)),$(r,f),aa()}export{ga as component};
